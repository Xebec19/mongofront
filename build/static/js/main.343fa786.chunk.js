(this.webpackJsonpmongofront=this.webpackJsonpmongofront||[]).push([[0],{32:function(e,t,a){},43:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(20),r=a.n(s),i=(a(43),a(5)),l=a(3),o=a(2),d=a(11),j=a.n(d),b=a(9),h=a.n(b),u=a(33),m=a(34),O=new(function(){function e(){Object(u.a)(this,e),this.authenticated=!1}return Object(m.a)(e,[{key:"login",value:function(e){try{this.authenticated=!0,e()}catch(t){console.log(t)}}},{key:"logout",value:function(e){this.authenticated=!1,localStorage.clear(),e()}},{key:"isAuthenticated",value:function(){return this.authenticated}}]),e}()),p=(a(12),a(0));var x=function(){var e,t=Object(l.g)();return"/"===t.pathname||"/register"===t.pathname?e=Object(p.jsxs)("div",{children:[Object(p.jsx)(i.b,{id:"a1",to:"/register",className:"link dim white dib mr3",children:"Register"}),Object(p.jsx)(i.b,{to:"/",className:"link dim white dib mr3",children:"Login"})]}):t.pathname.includes("dashboard")?e=Object(p.jsxs)("div",{children:[Object(p.jsx)(i.b,{onClick:function(){localStorage.clear()},className:"link dim white dib mr3",to:"/",children:"Logout"}),Object(p.jsx)(i.b,{to:"/dashboard",className:"link dim white dib mr3",children:"View"}),Object(p.jsx)(i.b,{to:"/dashboard/create",className:"link dim white dib mr3",children:"Create"})]}):(console.log("Unknown Link ",t.pathname),e=Object(p.jsx)(i.b,{to:"/",className:"link dim white dib mr3",children:"Logout"})),Object(p.jsx)("header",{className:"bg-black-90 w-100 ph3 pv3 pv4-ns ph4-m ph5-l",children:Object(p.jsx)("nav",{className:"f6 fw6 ttu tracked",children:e})})};var g=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),l=Object(o.a)(r,2),b=l[0],u=l[1],m=Object(c.useState)(""),g=Object(o.a)(m,2),f=g[0],v=g[1],N=Object(c.useState)(""),w=Object(o.a)(N,2),k=w[0],y=w[1];function S(){if(""===b||""===f||!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(b))return y("Invalid credentials"),0;h.a.post("https://calm-forest-91848.herokuapp.com/api/auth/login",{email:b,password:f}).then((function(t){var a=t.data.token.split(" ");localStorage.setItem("item",a[1]),console.log("Fired"),O.login((function(){e.history.push("/dashboard")}))})).catch((function(e){console.log(e),d.notify.show("alert!!!")})),O.login()}return Object(c.useEffect)((function(){h.a.get("https://calm-forest-91848.herokuapp.com/api/auth/").then((function(e){return s(!0)})).catch((function(e){return console.log(e)}))}),[]),n?Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)(j.a,{}),Object(p.jsx)("article",{className:"vh-100 dt w-100",children:Object(p.jsx)("div",{className:"dtc v-mid tc black ph3 ph4-l",children:Object(p.jsx)("main",{className:"pa4 black-80 tc dib br3 pa3 ma2 grow bw shadow-5",children:Object(p.jsxs)("div",{className:"measure center",children:[Object(p.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(p.jsx)("legend",{className:"f4 fw6 ph0 mh0",children:"Sign In"}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(p.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:function(e){return u(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mv3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:function(e){return v(e.target.value)}})]})]}),k&&Object(p.jsx)("p",{style:{color:"red"},children:" Invalid "}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)("button",{onClick:function(){S()},className:"b ph3 link pv2 input-reset ba b--black black bg-transparent dim pointer f6 dib",children:"Login"})}),Object(p.jsx)("div",{className:"lh-copy mt3",children:Object(p.jsx)(i.b,{to:"register",className:"f6 link dim black db",children:"Need an account ?"})})]})})})})]}):Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Waking up the server, it might take a minute"})})};var f=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(o.a)(s,2),l=r[0],j=r[1],b=Object(c.useState)(""),u=Object(o.a)(b,2),m=u[0],O=u[1],g=Object(c.useState)(""),f=Object(o.a)(g,2),v=f[0],N=f[1];function w(e){if(""===a||""===m||!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(a))return N("Invalid credentials"),0;h.a.post("https://calm-forest-91848.herokuapp.com/api/auth/register",{name:l,email:a,password:m}).then((function(e){console.log(e)})).catch((function(e){console.log(e),d.notify.show("alert!!!")}))}return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)("article",{className:"vh-100 dt w-100",children:Object(p.jsx)("div",{className:"dtc v-mid tc black ph3 ph4-l",children:Object(p.jsx)("main",{className:"pa4 black-80 tc dib br3 pa3 ma2 grow bw shadow-5",children:Object(p.jsxs)("div",{className:"measure center",children:[Object(p.jsxs)("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0",children:[Object(p.jsx)("legend",{className:"f4 fw6 ph0 mh0",children:"Register"}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"email-address",children:"Email"}),Object(p.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"email",name:"email-address",id:"email-address",onChange:function(e){return n(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mt3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"name",children:"Name"}),Object(p.jsx)("input",{className:"pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"text",name:"name",id:"name",onChange:function(e){return j(e.target.value)}})]}),Object(p.jsxs)("div",{className:"mv3",children:[Object(p.jsx)("label",{className:"db fw6 lh-copy f6",htmlFor:"password",children:"Password"}),Object(p.jsx)("input",{className:"b pa2 input-reset ba bg-transparent hover-bg-black hover-white w-100",type:"password",name:"password",id:"password",onChange:function(e){return O(e.target.value)}})]})]}),v&&Object(p.jsx)("p",{style:{color:"red"},children:"Invalid"}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)(i.b,{className:"b ph3 link pv2 input-reset ba b--black black bg-transparent dim pointer f6 dib",onClick:function(){return w()},to:"/",children:"Register"})}),Object(p.jsx)("div",{className:"lh-copy mt3",children:Object(p.jsx)(i.b,{to:"/",className:"f6 link dim black db",children:"Already have an account ?"})})]})})})})]})},v=a(15),N=a(37),w=a(36),k=a.n(w);a(72);var y=function(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=(a[0],a[1]),s=Object(c.useState)("read"),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(c.useState)(e.name),j=Object(o.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(e.date),O=Object(o.a)(m,2),x=O[0],g=O[1],f=Object(c.useState)(e.phone),v=Object(o.a)(f,2),N=v[0],w=v[1],y=Object(c.useState)(e.organization),S=Object(o.a)(y,2),C=S[0],z=S[1],I=Object(c.useState)(e.ratings),A=Object(o.a)(I,2),D=A[0],F=A[1],L=e.date;return"read"===i?Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:b}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)(k.a,{format:"YYYY/MM/DD",children:L})}),Object(p.jsx)("td",{className:"pa3",children:N}),Object(p.jsx)("td",{className:"pa3",children:C}),Object(p.jsx)("td",{className:"pa3",children:D}),Object(p.jsxs)("td",{className:"pa3",children:[Object(p.jsx)("p",{className:"pointer dim",onClick:function(){return l("edit")},children:"Edit"}),Object(p.jsx)("p",{className:"pointer dim",onClick:function(t){t.preventDefault(),h()({method:"delete",url:"https://calm-forest-91848.herokuapp.com/user/delete/record/".concat(e._id),headers:{Authorization:"Bearer "+localStorage.getItem("item")}}).then((function(e){console.log(e),l("delete")})).catch((function(e){console.log(e)})),n("")},children:"Delete"})]})]}):"edit"===i?Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"text",value:b,onChange:function(e){return u(e.target.value)}})}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"date",value:x,onChange:function(e){return g(e.target.value)}})}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"number",value:N,min:"1000000000",max:"9999999999",onChange:function(e){return w(e.target.value)}})}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsx)("button",{className:"dropbtn",children:C}),Object(p.jsxs)("div",{className:"dropdown-content",children:[Object(p.jsx)("p",{onClick:function(e){return z("Org1")},value:"Org1",children:"Org1"}),Object(p.jsx)("p",{onClick:function(e){return z("Org2")},value:"Org2",children:"Org2"}),Object(p.jsx)("p",{onClick:function(e){return z("Org3")},value:"Org3",children:"Org3"})]})]})}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"number",value:D,min:"0",max:"5",onChange:function(e){return F(e.target.value)}})}),Object(p.jsxs)("td",{className:"pa3",children:[Object(p.jsx)("p",{onClick:function(t){t.preventDefault();var a={name:b,data:x,phone:N,organization:C,ratings:D};h()({method:"patch",url:"https://calm-forest-91848.herokuapp.com/user/update/record/".concat(e._id),data:a,headers:{Authorization:"Bearer "+localStorage.getItem("item")}}).then((function(e){console.log(e),u(e.data.name),g(e.data.date),L=e.data.date,w(e.data.phone),z(e.data.organization),F(e.data.ratings),l("read")})).catch((function(e){console.log(e)})),n("")},className:"pointer dim",children:"Submit"}),Object(p.jsx)("p",{onClick:function(){return l("read")},className:"pointer dim",children:"Cancel"})]})]}):"delete"===i?Object(p.jsx)("tr",{className:"stripe-dark",children:Object(p.jsx)("td",{className:"pa3",children:"Record Deleted"})}):void 0};var S=function(){var e=Object(c.useState)("organization"),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(o.a)(s,2),i=r[0],l=r[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],u=j[1],m=Object(c.useState)(null),O=Object(o.a)(m,2),g=O[0],f=O[1];function w(){var e=i.sort((function(e,t){if("organization"===a){var c=e.organization.toUpperCase(),n=t.organization.toUpperCase();return c<n?-1:c>n?1:0}return"rating"===a?e.ratings-t.ratings:"date"===a?new Date(t.date)-new Date(e.date):void 0}));console.log("Value of filtered",e),function(e){if(console.log("Value passed to landRecords",e),e.length){var t=e.map((function(e,t){return console.log("Filtering"),Object(c.createElement)(y,Object(v.a)(Object(v.a)({},e),{},{key:t}))}));f(t)}else{f(Object(p.jsx)("p",{children:"No records"}))}}(e)}return Object(c.useEffect)((function(){h()({method:"get",url:"https://calm-forest-91848.herokuapp.com/user/read/record",headers:{Authorization:"Bearer "+localStorage.getItem("item")}}).then((function(e){l(e.data),u(!0),w()})).catch((function(e){return console.log(e)}))}),[b,localStorage.getItem("item")]),b?Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:"pa4",children:Object(p.jsxs)("div",{className:"overflow-auto",children:[Object(p.jsxs)("div",{className:"f6 w-100 mw8 center",children:[Object(p.jsx)("label",{htmlFor:"filter",children:Object(p.jsx)(N.a,{className:"f6 w-100 mw8 center"})}),Object(p.jsxs)("select",{className:"f6 w-100 mw8 center",defaultValue:a,onClick:function(e){return n(e.target.value)},onChange:w,name:"filter",id:"filter",children:[Object(p.jsx)("option",{value:"date",children:"Date"}),Object(p.jsx)("option",{value:"organization",children:"Organization"}),Object(p.jsx)("option",{value:"rating",children:"Rating"})]})]}),Object(p.jsxs)("table",{className:"f6 w-100 mw8 center",cellSpacing:"0",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Name"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Date"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Phone Number"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Organization"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Ratings"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white"})]})}),Object(p.jsx)("tbody",{className:"lh-copy",children:g})]})]})})})]}):Object(p.jsx)("h1",{children:"Loading"})};var C=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("section",{className:"vh-100 bg-washed-blue baskerville",children:Object(p.jsxs)("header",{className:"tc ph5 lh-copy",children:[Object(p.jsx)("h1",{className:"f1 f-headline-l code mb3 fw9 dib tracked-tight light-purple",children:"404"}),Object(p.jsx)("h2",{className:"tc f1-l fw1",children:"Sorry, we can't find the page you are looking for."}),Object(p.jsx)(i.b,{to:"/",children:"Go back"})]})})})},z=a(38),I=function(e){var t=e.component,a=Object(z.a)(e,["component"]);return Object(p.jsx)("div",{children:Object(p.jsx)(l.b,Object(v.a)(Object(v.a)({},a),{},{render:function(e){return function(){return O.isAuthenticated()}?Object(p.jsx)(t,Object(v.a)({},e)):Object(p.jsx)(l.a,{to:{pathname:"/asd",state:{from:e.location}}})}}))})};a(32);var A=function(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(""),i=Object(o.a)(r,2),l=i[0],b=i[1],u=Object(c.useState)(""),m=Object(o.a)(u,2),O=m[0],g=m[1],f=Object(c.useState)("Org1"),v=Object(o.a)(f,2),N=v[0],w=v[1],k=Object(c.useState)(""),y=Object(o.a)(k,2),S=y[0],C=y[1],z=Object(c.useState)(""),I=Object(o.a)(z,2),A=I[0],D=I[1];return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)(j.a,{}),Object(p.jsxs)("table",{className:"f6 w-100 mw8 center",cellSpacing:"0",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Parameters"}),Object(p.jsx)("th",{className:"fw6 tl pa3 bg-white",children:"Values"})]})}),Object(p.jsxs)("tbody",{className:"lh-copy",children:[Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:"Name"}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"text",onChange:function(e){return s(e.target.value)}})})]}),Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:"Date"}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"date",onChange:function(e){return b(e.target.value)}})})]}),Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:"Phone Number"}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"number",onChange:function(e){return g(e.target.value)}})})]}),Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:"Organization"}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsx)("button",{className:"dropbtn",children:N}),Object(p.jsxs)("div",{className:"dropdown-content",children:[Object(p.jsx)("p",{onClick:function(e){return w("Org1")},value:"Org1",children:"Org1"}),Object(p.jsx)("p",{onClick:function(e){return w("Org2")},value:"Org2",children:"Org2"}),Object(p.jsx)("p",{onClick:function(e){return w("Org3")},value:"Org3",children:"Org3"})]})]})})]}),Object(p.jsxs)("tr",{className:"stripe-dark",children:[Object(p.jsx)("td",{className:"pa3",children:"Ratings"}),Object(p.jsx)("td",{className:"pa3",children:Object(p.jsx)("input",{type:"number",max:"5",min:"0",onChange:function(e){return C(e.target.value)}})})]})]}),Object(p.jsx)("tfoot",{children:Object(p.jsxs)("tr",{className:"stripe-dark center fw6 tl pa3 bg-white",children:[Object(p.jsx)("td",{className:"center fw6 tl pa3 bg-white"}),Object(p.jsxs)("td",{className:"center fw6 tl pa3 bg-white",children:[A&&Object(p.jsx)("p",{style:{color:"red"},children:"Invalid"}),Object(p.jsx)("button",{onClick:function(){return function(){if(""===n||""===l||O<1e7||""===S)return D("Invalid"),0;var e={name:n,date:l,phone:O,organization:N,ratings:S};h()({method:"post",url:"https://calm-forest-91848.herokuapp.com/user/create/record",data:e,headers:{Authorization:"Bearer "+localStorage.getItem("item")}}).then((function(e){console.log(e)})).catch((function(e){console.log(e),d.notify.show("alert!!!")})),D(""),d.notify.show("Done!")}()},children:"Submit"})]})]})})]})]})};var D=function(){return Object(p.jsx)(i.a,{children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",component:g}),Object(p.jsx)(l.b,{exact:!0,path:"/register",component:f}),Object(p.jsx)(l.b,{exact:!0,path:"/dashboard/create",children:Object(p.jsx)(A,{})}),Object(p.jsx)(I,{exact:!0,path:"/dashboard",component:S}),Object(p.jsx)(l.b,{path:"*",component:C})]})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),F()}},[[75,1,2]]]);
//# sourceMappingURL=main.343fa786.chunk.js.map